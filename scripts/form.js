var u="https://echo.htmlacademy.ru",n=document.querySelector(".catalog__filter"),i=n.querySelector(".filter__button--submit"),d=n.querySelector(".filter__button--reset"),t=document.querySelector(".modal"),c=t.querySelector(".modal__text"),m=t.querySelector(".modal__button"),b=()=>{i.disabled=!0,d.disabled=!0},f=()=>{i.disabled=!1,d.disabled=!1},h=e=>{e.target===e.currentTarget&&t.close()},_=e=>{e.preventDefault(),b();let r=new FormData(e.target),o="",s="method: GET";for(let[l,a]of r)o+=`${l}=${a}&`,s+=`, ${l}: ${a}`;o=o.slice(0,o.length-1),fetch(`${u}?${o}`).then(l=>{if(!l.ok)throw new Error;c.textContent=`\u0417\u0430\u043F\u0440\u043E\u0441 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D. \u041F\u0430\u0440\u0430\u043C\u0435\u0442\u0440\u044B \u0437\u0430\u043F\u0440\u043E\u0441\u0430: ${s}`}).catch(()=>{c.textContent="\u0427\u0442\u043E-\u0442\u043E \u043F\u043E\u0448\u043B\u043E \u043D\u0435 \u0442\u0430\u043A... \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437",t.showModal()}).finally(()=>{f(),t.showModal()})},k=()=>{t.addEventListener("click",h),m.addEventListener("click",()=>{t.close()}),n.addEventListener("submit",_)};export{k as setFilterEventListeners};
